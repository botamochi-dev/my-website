---
publishDate: 2026-01-30
title: 複数のGitHubアカウントの運用
category: 技術
tags:
  - プログラミング
  - Git
---

## はじめに

本記事は、仕事用と個人用などの複数のアカウントがある際に、リポジトリごとにアカウントを分けてスムーズに開発を進めるためのセットアップ方法について自分用にまとめたものです。

## 方法

### Step1: 公開鍵と秘密鍵の生成

1. `C:\Users\ユーザー名`直下に`.ssh`フォルダを作成する。

2. ターミナルで`.ssh`フォルダを開き、下記のコマンドを実行し、SSHキーを作成する。

```bash
# 個人用
ssh-keygen -t rsa -b 4096 -f id_rsa_personal
# 仕事用
ssh-keygen -t rsa -b 4096 -f id_rsa_work
```

`Enter passphrase (empty for no passphrase):`と表示され、パスワードの入力が求められるがこれは入力しなくて良い。
パスワードを設定するとプッシュ・プル時に毎回パスワードの入力が求められ面倒であるため。

### Step2. GitHubへの公開鍵の登録

1. GitHub アカウント A にログインし、Settings → SSH and GPG keys に移動します。

2. New SSH key をクリックし、`~/.ssh/id_rsa_personal.pub` の内容を貼り付けます。

3. GitHub アカウント B にも同様にログインし、`~/.ssh/id_rsa_work.pub` の内容を登録します。

### Step3. SSH Configファイルの設定

`~/.ssh/config` を作成・編集し、どのホスト名でアクセスしたときにどの秘密鍵を使うかを定義します。

```bash
# ~/.ssh/config ファイルの内容例

# 1. メインアカウント（個人用）用の設定
Host github.com-personal
HostName github.com  # 実際のドメイン
User git
IdentityFile ~/.ssh/id_rsa_personal # 使用する秘密鍵

# 2. サブアカウント（仕事用）用の設定
Host github.com-work
HostName github.com # 実際のドメイン
User git
IdentityFile ~/.ssh/id_rsa_work # 使用する秘密鍵
```

#### 接続テスト

```bash
ssh -T git@github.com-personal
ssh -T git@github.com-work
```

上記のコマンドを実行し、下記のような出力が得られれば接続は成功です。

`Hi yourname! You've successfully authenticated, but GitHub does not provide shell access.`

これにてSSH接続の設定は完了しました。

下記では、実際に特定のリポジトリをクローンして開発を始める時の設定方法を説明します。

### Step4. リポジトリのクローンとコミット情報の設定

#### 1. リポジトリをクローンする

クローンを行う際には、上記のConfigファイルで設定したHost名をリポジトリのURLに使用します。

Code -> ssh から`git@github.com:yourname/yourrepo.git`のようなURLをコピーします。

ターミナル上で、

```bash
git clone git@github.com-personal:yourname/yourrepo.git
```

#### 2. コミット情報の設定

認証はSSHが担当しますが、コミット履歴に残る名前とメールアドレスはターミナル上でGitの設定が必要です。

```bash
git config user.name "Your Name (Account B)"
git config user.email "work-email@company.com"
```

## まとめ

複数のGitHubアカウントを扱う際は、SSH configを活用することで安全かつスムーズに切り替えが可能です。
一度設定しておけば、後はクローン時のホスト名を変えるだけで済むため、間違ったアカウントでコミットしてしまうリスクを減らせます。
プロジェクトごとに `git config user.name` と `git config user.email` を設定するのも忘れないようにしましょう。
